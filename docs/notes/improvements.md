# 改修案・改善案

## 機能追加

### 1. レイアウト切り替え機能
- **概要**: グリッド以外のレイアウトオプション（メイン+サブ、横並び、縦並び）
- **メリット**: メイン配信を大きく表示しながらサブ配信を確認できる
- **実装難易度**: 中

### 2. 動画の並び替え（ドラッグ&ドロップ）
- **概要**: 動画の表示順をドラッグで変更可能に
- **ライブラリ候補**: @dnd-kit/core, react-beautiful-dnd
- **実装難易度**: 中

### 3. 設定の永続化（LocalStorage）
- **概要**: 追加した動画URLや設定をブラウザに保存
- **保存項目**: 動画リスト、レイアウト設定、音量設定
- **実装難易度**: 低

### 4. URL共有機能
- **概要**: 現在の視聴状態をURLパラメータで共有
- **例**: `?videos=youtube:xxx,twitch:yyy`
- **実装難易度**: 低

### 5. キーボードショートカット
- **候補**:
  - `Space`: 全動画の再生/停止
  - `M`: 全動画のミュート切り替え
  - `1-9`: 特定の動画にフォーカス
  - `Esc`: モーダルを閉じる
- **実装難易度**: 低

### 6. ピクチャーインピクチャー (PiP)
- **概要**: ブラウザのPiP機能を使って動画を別ウィンドウで表示
- **対応**: YouTube のみ（Twitch iframe は制限あり）
- **実装難易度**: 中

---

## UI/UX 改善

### 7. 動画0件時のウェルカム画面復帰
- **現状**: 動画をすべて削除してもウェルカム画面に戻らない
- **改善**: 動画が0件になったらウェルカム画面を表示
- **実装難易度**: 低

### 8. ローディング状態の表示
- **概要**: 動画読み込み中のスピナー/スケルトン表示
- **対象**: YouTubePlayer、TwitchPlayer
- **実装難易度**: 低

### 9. トースト通知
- **概要**: 動画追加/削除/エラー時のフィードバック
- **ライブラリ候補**: react-hot-toast, sonner
- **実装難易度**: 低

### 10. レスポンシブ対応強化
- **概要**: モバイル/タブレット向けのUI調整
- **改善点**: チャットパネルの折りたたみ、タッチ操作対応
- **実装難易度**: 中

### 11. ダークモード/ライトモード切り替え
- **現状**: ダークモード固定
- **改善**: システム設定に連動 or 手動切り替え
- **実装難易度**: 中

---

## 技術的改善

### 12. エラーバウンダリの追加
- **概要**: コンポーネントエラー時のフォールバックUI
- **対象**: YouTubePlayer、TwitchPlayer
- **実装難易度**: 低

### 13. React.memo による最適化
- **概要**: 不要な再レンダリングの防止
- **対象**: VideoItem、VideoControls
- **実装難易度**: 低

### 14. テストの追加
- **概要**: ユニットテスト、コンポーネントテスト
- **ライブラリ**: Vitest + React Testing Library
- **実装難易度**: 中

### 15. ESLint / Prettier 設定
- **概要**: コード品質とフォーマットの統一
- **実装難易度**: 低

### 16. PWA 対応
- **概要**: オフライン対応、ホーム画面への追加
- **ライブラリ**: vite-plugin-pwa
- **実装難易度**: 中

---

## 優先度の高い改修（推奨順）

| 優先度 | 項目 | 理由 |
|--------|------|------|
| 1 | 動画0件時のウェルカム画面復帰 | UXの一貫性 |
| 2 | ローディング状態の表示 | フィードバック改善 |
| 3 | ESLint / Prettier 設定 | コード品質 |
| 4 | URL共有機能 | 友人と同じ配信を見たい時に便利 |

> **除外**:
> - 設定の永続化 - 都度開く使い方がメインのため不要
> - キーボードショートカット - マウス操作がメインのため優先度低

---

**最終更新**: 2026-01-11
