# コミットメッセージ規約

このドキュメントでは、Gitコミットメッセージの形式を定義します。

## 形式

Conventional Commits形式を採用します：

```
<type>: <subject>

<body（オプション）>
```

## Type定義

| Type | 説明 | 使用例 |
|------|------|--------|
| `feat` | 新機能の追加 | 新しいAPI、画面、機能の実装 |
| `fix` | バグ修正 | 既存機能の不具合修正 |
| `docs` | ドキュメントのみの変更 | README、コメント、docs/配下の更新 |
| `refactor` | リファクタリング | 機能変更を伴わないコード改善 |
| `test` | テストの追加・修正 | ユニットテスト、E2Eテスト等 |
| `chore` | ビルド、設定、依存関係等 | パッケージ更新、設定ファイル変更 |
| `style` | コードフォーマット | インデント、空白、セミコロン等 |

## ルール

### subject（件名）
- 日本語で簡潔に記述（50文字以内推奨）
- 動詞で始める（例: 「〜を追加」「〜を修正」「〜を実装」）
- 文末に句点（。）を付けない

### body（本文）
- 必要に応じて詳細を記載
- subjectとの間に空行を挿入
- 72文字程度で改行
- 変更の理由や背景を説明

### 特殊なケース
- **CLAUDE.md更新時**: `chore: CLAUDE.mdを更新`
- **複数の変更を含む場合**: 箇条書きで明示

## コミット例

### 簡潔な例
```
feat: ユーザー登録機能を追加
```

```
fix: ログイン時の400エラーを修正
```

```
docs: READMEにセットアップ手順を追加
```

### 詳細な例
```
feat: ユーザー認証APIを実装

JWTトークンベースの認証を追加
- POST /api/auth/login - ログインエンドポイント
- POST /api/auth/register - 登録エンドポイント
- トークン検証ミドルウェア
```

```
refactor: データベース接続処理を共通化

各モデルで重複していた接続処理をutilsに移動し、
コードの保守性を向上
```

```
fix: ページネーション計算の不具合を修正

総ページ数が0の場合にエラーが発生していた問題を修正。
空配列の場合は1ページとして扱うように変更。
```

## 注意事項

- 1つのコミットには1つの論理的な変更のみを含める
- 大きな変更は複数のコミットに分割する
- コミット前に変更内容を確認する（`git diff`等）

---

**最終更新**: 2026-01-10
